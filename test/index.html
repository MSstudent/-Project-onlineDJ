<html>
<head>
	<script>

		function start(){
			//初始化audiocontext
			try{
				context = new AudioContext();
			}catch(e){
				try{
					context = new webkitAudioContext();
				}catch(e){
					alert('Web Audio API is not supported in this browser.');
				}
			}
			//初始化audio音乐
			var audio = document.querySelector('audio');
			var source = context.createMediaElementSource(audio);
			//建立增益节点
			var gainNode = context.createGainNode();
			var filter = context.createBiquadFilter();
			//source1.connect(filter);
			source.connect(gainNode);
			gainNode.connect(context.destination);
			source.setvol = function(vol){
				gainNode.gain.value = vol;
			}
			source.setvol(0.5);
		}


	</script>
</head>
<body onload="start();">
	<audio src="music/1.mp3" controls="controls"></audio>
</body>
</html>

